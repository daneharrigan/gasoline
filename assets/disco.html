<!doctype html>
<body></body>
<style type="text/css">
body {
	font: 14px helvetica, arial, sans-serif;
	color: #666;
	margin: 0;
	padding: 0 20px;
}

p {
	border-bottom: 1px solid #eee;
	margin: 0;
	padding: 10px 20px;
}
</style>
<script>
	function setCookie(name, value) {
		var cookie = name + "=" + escape(value)

		var timestamp = new Date()
		timestamp.setDate(timestamp.getDate() + 365)
		cookie += "; expires=" + timestamp.toUTCString()

		cookie += "; path=/"
		document.cookie = cookie
	}

	function getCookie(name) {
		name += "="
		var cookies = document.cookie.split(";")
		for(var i=0; i < cookies.length; i++) {
			var cookie = cookies[i]
			if(cookie[0] == " ") {
				cookie = cookie.substring(1, cookie.length)
			}

			if(cookie.indexOf(name) == 0) {
				return unescape(cookie.substring(name.length, cookie.length))
			}
		}

		return
	}

	function write(key, value) {
		var p = document.createElement("p")
		var strong = document.createElement("strong")
		var span = document.createElement("span")

		strong.innerText = key + ": "
		span.innerText = value
		p.appendChild(strong)
		p.appendChild(span)
		document.querySelector("body").appendChild(p)
	}

	function appendParam(key, value) {
		params += "&" + key + "=" + escape(value)
	}

	/******************/

	var params = "?"

	value = screen.width + "x" + screen.height
	write("resolution", value)
	appendParam("resolution", value)

	value = screen.availWidth + "x" + screen.availHeight
	write("browser dimension", value)
	appendParam("dimension", value)

	value = (window.devicePixelRatio > 1)
	write("retina", value)
	appendParam("retina", value)

	value = (screen.pixelDepth || screen.colorDepth) + "bit"
	write("color depth", value)
	appendParam("color", value)

	value = navigator.userAgent
	write("agent", value)
	appendParam("agent", value)

	value = navigator.platform
	write("OS", value)
	appendParam("os", value)

	value = navigator.cookieEnabled
	write("cookie support", value)
	appendParam("cookie", value)

	value = ""
	for(var i=0; i < navigator.plugins.length; i++) {
		var v = navigator.plugins[i].name

		if(i > 0) {
			value += ", "
		}

		value += v
		appendParam("plugins[]", v)
	}

	write("plugins", value)

	value = document.referrer
	write("referrer", value)
	appendParam("referrer", value)

	value = document.title
	write("page title", value)
	appendParam("title", value)

	value = window.location.pathname
	write("page url", value)
	appendParam("url", value)

	value = getCookie("_ts1_unique") || 0
	setCookie("_ts1_unique", 1)
	write("returning viewer", value)
	appendParam("returning", value)

	write("params", params)
	/*******************/
</script>
